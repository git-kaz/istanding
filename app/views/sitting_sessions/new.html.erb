<div class="flex flex-col items-center justify-center min-h-screen bg-background-dark p-8">

  <div data-controller="timer"
       class="flex flex-col items-center p-12 rounded-[3.5rem]
              bg-input-bg-light/70 backdrop-blur-xl
              border border-border-light
              shadow-xl ring-1 ring-black/5">

    <!-- timer circle -->
    <div class="relative flex items-center justify-center w-72 h-72">
      <svg viewBox="0 0 300 300" class="w-full h-full transform -rotate-90">

        <!-- base circle -->
        <circle cx="150" cy="150" r="120"
                stroke="currentColor" stroke-width="4" fill="transparent"
                class="text-primary opacity-20" />

        <!-- progress circle -->
        <circle cx="150" cy="150" r="120"
                stroke="currentColor" stroke-width="10" fill="transparent"
                data-timer-target="circle"
                class="text-primary transition-all duration-1000 ease-linear"
                style="stroke-linecap: round;
                       filter: drop-shadow(0 0 10px color-mix(in srgb, currentColor 60%, transparent));" />
      </svg>

      <!-- time display -->
      <div class="absolute text-6xl font- sans font-light tracking-tight text-text-main"
           data-timer-target="display">
        00:00
      </div>
    </div>

    <!-- controls -->
    <div class="mt-12 w-full space-y-4">
      <div class="flex gap-4 justify-center">
        <% SittingSession::SETTING_DURATIONS.each do |minutes| %>
          <button type="button"
                  class="px-4 py-2 bg-background-light border border-border-light hover:bg-primary/20 rounded-lg font-bold transition"
                  data-action="click->timer#start"
                  data-timer-minutes-param="<%= minutes %>">
            <%= minutes %>分
          </button>
        <% end %>
      </div>
      <div class="flex justify-center">
        <button type="button" class="text-sm text-gray-400 underline" data-action="click->timer#finish">
          いますぐ終了
        </button>
      </div>

      <button data-action="click->timer#stop"
              class="w-full py-4 rounded-2xl font-medium
                     bg-background-light text-text-secondary
                     border border-border-light
                     hover:bg-primary/20 hover:text-text-main
                     transition active:scale-95">
        リセット
      </button>
    </div>
   
  </div>
  <div id="modal_container"></div>
  <!-- footer accent -->
  <div class="mt-8 w-32 h-1.5 bg-border-light rounded-full"></div>
</div>
